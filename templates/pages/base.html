<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=windows-1251"/>
    <meta name="color-scheme" content="dark">

    {% block head %}
        <title>{% block title %}{% endblock %}</title>
    {% endblock %}
    <link rel="shortcut icon" href="{{ favicon_url }}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/8.0.0/mdb.min.css"/>
    {% block links %} {% endblock %}
    <style>
        .form-control:-webkit-autofill,
        .form-control:-webkit-autofill:hover,
        .form-control:-webkit-autofill:focus,
        .form-control:-webkit-autofill:active {
            border: none;
            -webkit-text-fill-color: var(--mdb-body-color);
            -webkit-box-shadow: 0 0 0 100px var(--mdb-body-bg) inset !important;
        }

        {% block style %}{% endblock %}
    </style>
    <script>
        const isSystemThemeSetToDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        if (isSystemThemeSetToDark) {
            document.documentElement.dataset.mdbTheme = "dark";
        }
    </script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="/">
            <img src="{{ favicon_url }}" alt="App Logo" class="img-fluid me-2" style="max-width: 30px;">
            <span class="fw-bold">{{ app_title }}</span>
        </a>
        <button
                class="navbar-toggler"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                {% block nav %}{% endblock %}
            </ul>
        </div>
    </div>
</nav>

{% block main %}{% endblock %}

<div class="modal fade" id="verificationModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel">Verification Code</h5>
                <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="modalDescription">Enter the 6-digit code sent to your email to proceed.</p>
                <div id="codeInputContainer" class="d-flex justify-content-center mb-3">
                    <!-- Code Input Fields -->
                    {% for i in range(6) %}
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 text-center"
                               style="width: 40px; font-size: 1.5rem;">
                    {% endfor %}
                </div>
                <div id="modalError" class="text-danger text-center d-none">Invalid code. Please try again.</div>
            </div>
            <div class="modal-footer">
                <button type="button" id="confirmActionBtn" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>
</div>

<script
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/8.0.0/mdb.umd.min.js"
></script>
<script src="/static/js/base.js"></script>
{% block scripts %}{% endblock %}

</body>
</html>
